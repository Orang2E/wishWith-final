<html>
  <head>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/product_detail.css') }}"
    />
  </head>
  <div id="header"></div>

  <body>
    
    <div class="container">
      <div class="infoContainer">
        <img src="{{ data.image_url }}" width: 600px; heihgt: 600px;></div>
        <div class="infoBox">
          <div class="company">{{ data.delivery }}</div>
          <div class="proTitle">{{ data.title }}</div>
          <div class="profileBox">
            <div class="profileText">{{ data.user_id }}</div>
            <div class="description">: {{ data.product_description }}</div>
          </div>
          <div class="subInfo">
            <div class="subTitle">모집기간</div>
            <div class="subDate">
              {{ data.start_date }} ~ {{ data.end_date }}
            </div>
          </div>
          <div class="subInfo">
            <div class="subTitle">모집인원</div>
            <div class="subDate">{{ data.people_number }}명</div>
          </div>
          <div class="mainPrice">
            <div class="perText">인당</div>
            <div class="priceText">{{per_person_price}} 원</div>
            
          </div>
          
          <div class="subInfo">
            <div class="subTitle">총 구매 가격</div>
            <div class="subDate">{{data.price}}원(배달료 4,000원 포함)</div>
          </div>
        </div>
        
        <button class="particBtn" onclick="participate('{{ name }}')">공동 구매 참여하기</button>

    </div>
      <div class="navBar">
        <div class="navList selected">공구채팅방</div>
        <a href="{{data.url}}" class="navList">상세정보</a>
      </div>
    </div>
  </body>
  <footer></footer>
  <script>
    fetch("/header")
      .then((response) => response.text())
      .then((data) => {
        document.getElementById("header").innerHTML = data;

        var loginButton = document.getElementById("login-btn");
        if (loginButton) {
          loginButton.addEventListener("click", function (event) {
            event.preventDefault(); // 기본 액션(페이지 이동) 방지
            openModal();
          });
        }
      });

    fetch("/footer")
      .then((response) => response.text())
      .then((data) => {
        document.getElementById("footer").innerHTML = data;
      });

    function participate(name) {
    window.location.href = '/myparticipation?name=' + encodeURIComponent(name) ;
}
  </script>
</html>
